<!DOCTYPE html>

<!-- Freddie Lowe, Data Science 2021 -->


<!-- ///////////////////  HEAD //////////////////////////////////// -->

<head>

<!--The next three lines allow the Vega embed-->
<script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>


<!-- CSS -->
<link rel="stylesheet" href="styles.css">


<!-- Title -->
<h1>Data Science Project</h1>


<head>

    <!-- ///////////////////  HEAD //////////////////////////////////// -->
  
  
  
  
  
  <!-- ///////////////////  START BODY //////////////////////////////////// -->
  
  <body>
  
    <div class="navbuttons">
        <button class="button" style="vertical-align:middle" onclick="location.href='portfolio.html'"><span>Portfolio </span></button>
        <button class="button" style="vertical-align:middle" onclick="location.href='project.html'"><span>Project </span></button>
        <button class="button" style="vertical-align:middle" onclick="location.href='https://github.com/freddielowe1/freddielowe1.github.io'"><span>Github </span></button>
        <button class="button" style="vertical-align:middle" onclick="location.href='https://rapidcharts.io/datascience'"><span>Course Site </span></button>
    
      </div>

<p class=title1>A project exploring the effect on pay on investment banks' performance</p>

<container class="sectionA">

 <div class="text-level-A"> Introduction </div>

 <div class="text-level-B"> <p>One of the most fundamental questions any employer must ask is how much to pay an employee. 
   Careers in the City are no exception to this, and have long been renowned for paying large amounts. With the on-going war on talent,
   as well as burnout during the pandemic, banks have further raised their salaries (in the region of 30%) for all junior roles this year. 
   But does this provide value for money? 
   This project aims to establish a link between pay for bankers and their performance,
   measured by the fees the bank brings in each year. </p>

  
   <p>Unfortunately, banks do not actively publish their annual fees and employee salaries. Furthermore, data providers, such as Refinitiv,
  which publish APIs containing this information, charge thousands each year for access. This project's primary aim is to use free 
  resources to provide this data, and perform some basic analysis of it. Please note: this project does not aim to establish causality - 
  the performance of banks is such a complicated field - but merely tries to establish a link. </p>
 </a> 
</div>

</container>

<container class="sectionA">

  <div class="text-level-A"> Section 1: What are the major global investment banks </div>

  <div class="text-level-B">This first chart outlines the major players in the space.
    The data is from the FT, scraped from their website. Sadly the FT only publishes the top 10 banks (not the top 30), 
    but it is a free resource which can be updated very quickly. Whilst they also produce last year's tables, these are 
    nested in a dynamic table which cannot easily be scraped. The table can be replicated <a href="https://colab.research.google.com/drive/1Dj3RkMDs8wl5iAcQP9PeOScIGM61p5K_?usp=sharing target="_blank" style="color:white">here.</a> 
  </div>

<!--Chart 14 -->
<div class="chart" id="chart14">
    <script>
      var myChart14 = "charts/IBDTable.json";
      vegaEmbed('#chart14', myChart14);
    </script>
  </div>

  


</container>


<container class="sectionB">

<div class="text-level-A"> Section 2: Pay landscape for Investment Bankers in London </div>

  <div class="text-level-B">Arkesden is a head hunter, based in London, which produces an annual, free-to-download PDF report 
    summarising investment banking pay. Press
    <a href="https://www.arkesden.com/asset/8424/download?1619082748 target="_blank" style="color:white">here</a> 
    for the latest report.
    A scraper has been built, meaning that each year when the report is published, the charts can easily be refreshed. 
    Camelot (the PDF reader in Python) needed significant adjustments for edge and row tolerance, but the final product should 
    collect all data in any new report.
    <p>The latest PDF (2020-2021) does not reflect the recent increase in base salary. 
      The link for the scraper is <a href="https://colab.research.google.com/drive/1gvyMhGYsEuG0Nz7rn6sJQ6BvTqt8IK_q?usp=sharing target="_blank" style="color:white">here.</a> 
  </p>
  </div>

<!--Chart 15 -->
<div class="chart" id="chart15">
  <script>
    var myChart15 = "charts/BankPay.json";
    vegaEmbed('#chart15', myChart15);
  </script>
</div>

<!--Chart 16 -->
<div class="chart" id="chart16">
  <script>
    var myChart16 = "charts/PositionPay.json";
    vegaEmbed('#chart16', myChart16);
  </script>
</div>

<div class="text-level-B"> The two charts above summarise base pay (excluding bonuses, which often make up a sizable proportion
  of a bankers' salary). From immediate inspection, Bank of Merrill Lynch (BAML) pays more than other banks, especially at the Analyst rank (the lowest level), and 
  we will test if this translates to greater performance.</div>

<!--Chart 17 -->
<div class="chart" id="chart17">
  <script>
    var myChart17 = "charts/BankTotalComp.json";
    vegaEmbed('#chart17', myChart17);
  </script>
</div>


<div class="text-level-B"> The chart above shows the total compensation, including both base pay and bonus pay. Bonus is
  a function of the performance of the individual (what we are testing) and performance of the bank, an example of reverse causality,
  hence why this project is not aiming to infer causality. The data from the chart was again scraped from Arkesden and can be replicated
  <a href="https://colab.research.google.com/drive/1xYs3wGOMoyUAM0xy5N4-e0zn0kVu_6gC?usp=sharing target="_blank" style="color:white">here.</a>

</div>



</container>


<container class="sectionB">

<div class="text-level-A"> Section 3: Comparing compensation to bank performance </div>

<div class="text-level-B"> This section combines the previous two, and places pay against performance in a scatter plot. 
  <p>There were quite a few challenges to overcome in making these charts, such as some of the 10 banks not having 
    pay data, and vice versa. Furthermore, the FT names the banks differently
    to Arkesden meaning all banks had to be renamed.</p>
    In future, one will have to manually check all banks 
    with pay data are listed in the FT table, and vice versa for when the two datasets are merged. However, the rest of the 
    python file is automated and should be easily updatable each time a new report is published. The data in the charts can be 
  replicated <a href="https://colab.research.google.com/drive/1Si9vNRv9sr6IWod5x9Dwcj5z3uFfSGBY?usp=sharing target="_blank" style="color:white">here.</a>
</div>

<!--Chart 18 -->
<div class="chart" id="chart18">
  <script>
    var myChart18 = "charts/TotalComp_Performance.json";
    vegaEmbed('#chart18', myChart18);
  </script>
</div>

<!--Chart 19 -->
<div class="chart" id="chart19">
  <script>
    var myChart19 = "charts/BaseComp_Performance.json";
    vegaEmbed('#chart19', myChart19);
  </script>
</div>

</container>

<container class="sectionC">

  <div class="text-level-A"> Section 4: Regressing bank performance on compensation </div>

  <div class="text-level-B"><p> This section regresses the charts in section 3. We cannot regress all ranks together, 
    because one cannot compare Analyst 1 pay to VP (Vice President) 3 pay in the same regression. 
    With the scraper auto-saving backups, each year we would get more datapoints improving the reliability of our regression. 
  </p>
      Ideally, this chart would be made using a Vega trellis, but I could not get the trellis to run all the 
      regressions individually, so this section is made of smaller charts combined in a div. The data in the charts can be 
    replicated <a href="https://colab.research.google.com/drive/1qitCIEij52xhSsECo90t2-tCZIBg591f?usp=sharing target="_blank" style="color:white">here.</a>

  </div>

  <div class="trellis">

  <!--Chart 26 -->
  <div class="chartt" id="chart26">
    <script>
      var myChart26 = "trellis_base/analyst1.json";
      vegaEmbed('#chart26', myChart26);
    </script>
  </div>
  
  <!--Chart 27 -->
  <div class="chartt" id="chart27">
    <script>
      var myChart27 = "trellis_base/analyst2.json";
      vegaEmbed('#chart27', myChart27);
    </script>
  </div>
  
<!--Chart 28 -->
<div class="chartt" id="chart28">
  <script>
    var myChart28 = "trellis_base/associate1.json";
    vegaEmbed('#chart28', myChart28);
  </script>
</div>

<!--Chart 29 -->
<div class="chartt" id="chart29">
  <script>
    var myChart29 = "trellis_base/associate2.json";
    vegaEmbed('#chart29', myChart29);
  </script>
</div>

<!--Chart 30 -->
<div class="chartt" id="chart30">
  <script>
    var myChart30 = "trellis_base/associate3.json";
    vegaEmbed('#chart30', myChart30);
  </script>
</div>

<!--Chart 31 -->
<div class="chartt" id="chart31">
  <script>
    var myChart31 = "trellis_base/vp1.json";
    vegaEmbed('#chart31', myChart31);
  </script>
</div>


<!--Chart 32 -->
<div class="chartt" id="chart32">
  <script>
    var myChart32 = "trellis_base/vp2.json";
    vegaEmbed('#chart32', myChart32);
  </script>
</div>


<!--Chart 33 -->
<div class="chartt" id="chart33">
  <script>
    var myChart33 = "trellis_base/vp3.json";
    vegaEmbed('#chart33', myChart33);
  </script>
</div>

</div>


  <div class="text-level-A">  </div>
  <div class="trellis">
  <!--Chart 20 -->
  <div class="chartt" id="chart20">
    <script>
      var myChart20 = "trellis/associate1.json";
      vegaEmbed('#chart20', myChart20);
    </script>
  </div>
  
  <!--Chart 21 -->
  <div class="chartt" id="chart21">
    <script>
      var myChart21 = "trellis/associate2.json";
      vegaEmbed('#chart21', myChart21);
    </script>
  </div>
  
<!--Chart 22 -->
<div class="chartt" id="chart22">
  <script>
    var myChart22 = "trellis/associate3.json";
    vegaEmbed('#chart22', myChart22);
  </script>
</div>

<!--Chart 23 -->
<div class="chartt" id="chart23">
  <script>
    var myChart23 = "trellis/vp1.json";
    vegaEmbed('#chart23', myChart23);
  </script>
</div>

<!--Chart 24 -->
<div class="chartt" id="chart24">
  <script>
    var myChart24 = "trellis/vp2.json";
    vegaEmbed('#chart24', myChart24);
  </script>
</div>

<!--Chart 25 -->
<div class="chartt" id="chart25">
  <script>
    var myChart25 = "trellis/vp3.json";
    vegaEmbed('#chart25', myChart25);
  </script>
</div>

</div>

<div class="text-level-B"><p> As expected, in the second trellis, there is a strong correlation between the total compensation
  of individuals and the performance of the bank. This is because bank bonuses tend to be a function of the performance of the bank. 
  However, the relationship is striking, with an R2>0.4 in all but two regressions. </p>
  <p>Unsurprisingly, the R2 is much lower when considering just base pay. However, there is still an upward trend in all graphs, 
    suggesting that there is still some correlation between base pay and performance. My initial expectation was the 
    exact opposite: I expected the lower-performing banks to need to pay a higher salary to attract talent, and the better performing 
    banks leveraging their prestige. Clearly this is not the case: 
    banks which pay more have, on average, better performance.
</p>
</div>
  </container>

  <container class="sectionC">

    <div class="text-level-A"> Conclusion </div>

    <div class="text-level-B"><p> Overall, many of the project's aims have been met. Data (in a space which is highly 
      protected by paywalls) has been uncovered, collection automated, and used in analysis. 
      The greatest weakness of the project is that there are simply
    not enough datapoints for more robust regressions. 
    However, the main aim of this project has been in Python making sure the scrapers are 
    fully automated, allowing data to be refreshed each year, a goal which has been met. More robust regressions
    could follow.
   </p></div>

  </container>

  </body>